async function createApiUrl(e){let t=e.searchParams.get("n");t=Math.max(1,Math.min(t||10,50));let n=e.searchParams.get("c"),r=e.searchParams.get("d");return r=r||"","https://opentdb.com/api.php?amount="+t+"&type=multiple&category="+n+"&difficulty="+r}async function loader(){const e=await createApiUrl(new URL(window.location.href)),t=await fetch(e),n=await t.json();return n.results}function endQuiz(){document.getElementById("progressBar").value=questions.length,document.getElementById("progress").innerHTML="Quiz completed",document.getElementById("question").innerHTML=correct+" correct answers out of "+questions.length,document.querySelectorAll(".formElement").forEach(e=>{e.style.display="none"})}function setQuestion(e){currentQuestion=e,document.getElementById("progressBar").value=current,document.getElementById("progressBar").max=questions.length,document.getElementById("question").innerHTML=currentQuestion.question,document.getElementById("progress").innerHTML="Question: "+current+" / "+questions.length,answers=currentQuestion.incorrect_answers.slice(),answers.splice(Math.floor(4*Math.random()),0,currentQuestion.correct_answer),document.getElementById("button1").innerText=answers[0],document.getElementById("button2").innerText=answers[1],document.getElementById("button3").innerText=answers[2],document.getElementById("button4").innerText=answers[3]}function answerFunc(e){answers&&(answers[e]===currentQuestion.correct_answer?(correct++,document.getElementById("response").innerHTML="Correct!",document.getElementById("response").style.color="rgb(113,233,113)"):(document.getElementById("response").innerHTML="Wrong!",document.getElementById("response").style.color="rgb(233,113,113)"),current++,current<questions.length?setQuestion(questions[current]):endQuiz())}function restartSame(){document.querySelectorAll(".formElement").forEach(e=>{e.style.display="inline-block"}),current=0,correct=0,setQuestion(questions[current])}var questions,currentQuestion,answers,correct=0,current=0;window.addEventListener("load",()=>{var e=setInterval(()=>{document.getElementById("question").innerHTML+="."},100);loader().then(t=>{clearInterval(e),questions=t,setQuestion(questions[current])}).catch(e=>{document.getElementById("question").innerHTML="Error "+e.message})});